<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h1 class="text-center mb-4">Add Food Product</h1>
      <button class="btn btn-dark mb-3" routerLink="/products">Go Back</button>

      <!-- Form for adding food products -->
      <div class="border p-4 rounded shadow" style="width: 100%; max-width: 600px;">
        <form [formGroup]="addProductForm" (ngSubmit)="handleAddProduct()">

          <!-- Product Name -->
          <div class="form-group row mb-3">
            <label for="nameInput" class="col-sm-4 col-form-label">Product Name</label>
            <div class="col-sm-8">
              <input
                type="text"
                class="form-control"
                placeholder="Enter Product Name"
                formControlName="name"
                [ngClass]="{
                  'is-invalid': addProductForm.get('name')?.touched && addProductForm.get('name')?.invalid
                }"
              />
              <div class="invalid-feedback">
                <div *ngIf="addProductForm.get('name')?.hasError('required')">Product Name is required</div>
              </div>
            </div>
          </div>

          <!-- Price -->
          <div class="form-group row mb-3">
            <label for="priceInput" class="col-sm-4 col-form-label">Price</label>
            <div class="col-sm-8">
              <input
                type="number"
                class="form-control"
                placeholder="Enter Price"
                formControlName="price"
                [ngClass]="{
                  'is-invalid': addProductForm.get('price')?.touched && addProductForm.get('price')?.invalid
                }"
                min="0"
                step="0.01"
              />
              <div class="invalid-feedback">
                <div *ngIf="addProductForm.get('price')?.hasError('required')">Price is required</div>
              </div>
            </div>
          </div>

          <!-- Quantity -->
          <div class="form-group row mb-3">
            <label for="quantityInput" class="col-sm-4 col-form-label">Quantity</label>
            <div class="col-sm-8">
              <input
                type="number"
                class="form-control"
                placeholder="Enter Quantity"
                formControlName="quantity"
                [ngClass]="{
                  'is-invalid': addProductForm.get('quantity')?.touched && addProductForm.get('quantity')?.invalid
                }"
                min="1"
              />
              <div class="invalid-feedback">
                <div *ngIf="addProductForm.get('quantity')?.hasError('required')">Quantity is required</div>
              </div>
            </div>
          </div>

          <!-- Category -->
          <div class="form-group row mb-3">
            <label for="categoryInput" class="col-sm-4 col-form-label">Category</label>
            <div class="col-sm-8">
              <select
                class="form-control"
                formControlName="category"
                [ngClass]="{
                  'is-invalid': addProductForm.get('category')?.touched && addProductForm.get('category')?.invalid
                }"
              >
                <option value="">Select Category</option>
                <option value="Half">Half</option>
                <option value="Full">Full</option>
              </select>
              <div class="invalid-feedback">
                <div *ngIf="addProductForm.get('category')?.hasError('required')">Category is required</div>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="form-group">
            <button type="submit" class="btn btn-primary w-100" [disabled]="addProductForm.invalid">
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Success/Error Messages -->
  <div class="position-fixed bottom-0 end-0 p-3">
    <div *ngIf="isSaved" 
         class="toast align-items-center text-bg-success border-0 show" 
         style="width: 400px; height: 75px;" 
         role="alert" 
         aria-live="assertive" 
         aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body" style="font-size: 1.2rem; padding: 1rem;">
          Saved Successfully
        </div>
        <button type="button" 
                class="btn-close btn-close-white me-2 m-auto" 
                (click)="isSaved = false" 
                aria-label="Close"></button>
      </div>
    </div>
    
    <div *ngIf="!isSaved && showError" 
         class="toast align-items-center text-bg-danger border-0 show" 
         style="width: 400px; height: 75px;" 
         role="alert" 
         aria-live="assertive" 
         aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body" style="font-size: 1.2rem; padding: 1rem;">
          Unable to create product. Some error occurred. Try again later.
        </div>
        <button type="button" 
                class="btn-close btn-close-white me-2 m-auto" 
                (click)="showError = false" 
                aria-label="Close"></button>
      </div>
    </div>
  </div>
</div>
